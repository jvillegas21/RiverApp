{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback, useEffect } from 'react';\nexport const useGeolocation = () => {\n  _s();\n  const [location, setLocation] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const requestLocation = useCallback(() => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by this browser');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 300000 // 5 minutes\n    };\n    navigator.geolocation.getCurrentPosition(position => {\n      setLocation({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        timestamp: position.timestamp\n      });\n      setLoading(false);\n      setError(null);\n    }, error => {\n      setLoading(false);\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          setError('Location access denied. Please enable location services and refresh the page.');\n          break;\n        case error.POSITION_UNAVAILABLE:\n          setError('Location information is unavailable. Please try again.');\n          break;\n        case error.TIMEOUT:\n          setError('Location request timed out. Please try again.');\n          break;\n        default:\n          setError('An unknown error occurred while retrieving your location.');\n          break;\n      }\n    }, options);\n  }, []);\n  const watchLocation = useCallback(() => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by this browser');\n      return null;\n    }\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 60000 // 1 minute\n    };\n    const watchId = navigator.geolocation.watchPosition(position => {\n      setLocation({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        timestamp: position.timestamp\n      });\n      setError(null);\n    }, error => {\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          setError('Location access denied.');\n          break;\n        case error.POSITION_UNAVAILABLE:\n          setError('Location information is unavailable.');\n          break;\n        case error.TIMEOUT:\n          setError('Location request timed out.');\n          break;\n        default:\n          setError('An unknown error occurred.');\n          break;\n      }\n    }, options);\n    return watchId;\n  }, []);\n  const clearWatch = useCallback(watchId => {\n    if (watchId && navigator.geolocation) {\n      navigator.geolocation.clearWatch(watchId);\n    }\n  }, []);\n  return {\n    location,\n    error,\n    loading,\n    requestLocation,\n    watchLocation,\n    clearWatch\n  };\n};\n_s(useGeolocation, \"S8JEw+x+4pPo6ynKOVd05yGnf7I=\");","map":{"version":3,"names":["useState","useCallback","useEffect","useGeolocation","_s","location","setLocation","error","setError","loading","setLoading","requestLocation","navigator","geolocation","options","enableHighAccuracy","timeout","maximumAge","getCurrentPosition","position","latitude","coords","longitude","accuracy","timestamp","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","watchLocation","watchId","watchPosition","clearWatch"],"sources":["/workspace/client/src/hooks/useGeolocation.js"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react';\n\nexport const useGeolocation = () => {\n  const [location, setLocation] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const requestLocation = useCallback(() => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by this browser');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 300000 // 5 minutes\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        setLocation({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy,\n          timestamp: position.timestamp\n        });\n        setLoading(false);\n        setError(null);\n      },\n      (error) => {\n        setLoading(false);\n        \n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            setError('Location access denied. Please enable location services and refresh the page.');\n            break;\n          case error.POSITION_UNAVAILABLE:\n            setError('Location information is unavailable. Please try again.');\n            break;\n          case error.TIMEOUT:\n            setError('Location request timed out. Please try again.');\n            break;\n          default:\n            setError('An unknown error occurred while retrieving your location.');\n            break;\n        }\n      },\n      options\n    );\n  }, []);\n\n  const watchLocation = useCallback(() => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by this browser');\n      return null;\n    }\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 60000 // 1 minute\n    };\n\n    const watchId = navigator.geolocation.watchPosition(\n      (position) => {\n        setLocation({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy,\n          timestamp: position.timestamp\n        });\n        setError(null);\n      },\n      (error) => {\n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            setError('Location access denied.');\n            break;\n          case error.POSITION_UNAVAILABLE:\n            setError('Location information is unavailable.');\n            break;\n          case error.TIMEOUT:\n            setError('Location request timed out.');\n            break;\n          default:\n            setError('An unknown error occurred.');\n            break;\n        }\n      },\n      options\n    );\n\n    return watchId;\n  }, []);\n\n  const clearWatch = useCallback((watchId) => {\n    if (watchId && navigator.geolocation) {\n      navigator.geolocation.clearWatch(watchId);\n    }\n  }, []);\n\n  return {\n    location,\n    error,\n    loading,\n    requestLocation,\n    watchLocation,\n    clearWatch\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}